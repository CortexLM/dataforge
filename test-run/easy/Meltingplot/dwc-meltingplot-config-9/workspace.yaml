id: Meltingplot/dwc-meltingplot-config-9
repo: Meltingplot/dwc-meltingplot-config
base_commit: c236c3c28f69bef55b549685acdb3ed8c11deb23
merge_commit: bbd367d379849d69aad3ea9018b2ec93b7cac4b2
language: python
difficulty_score: 1
created_at: 2026-02-17T09:16:46.997420711Z
patch: "diff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml\nindex 9f72407..22951ee 100644\n--- a/.github/workflows/ci.yml\n+++ b/.github/workflows/ci.yml\n@@ -95,9 +95,14 @@ jobs:\n       - name: Verify build output\n         run: ls DuetWebControl/dist/MeltingplotConfig-*.zip\n \n+      - name: Extract plugin ZIP for artifact upload\n+        run: |\n+          mkdir -p artifact-content\n+          unzip DuetWebControl/dist/MeltingplotConfig-*.zip -d artifact-content\n+\n       - name: Upload plugin ZIP\n         uses: actions/upload-artifact@v4\n         with:\n           name: MeltingplotConfig-plugin\n-          path: DuetWebControl/dist/MeltingplotConfig-*.zip\n+          path: artifact-content/*\n           retention-days: 30\n"
test_patch: ''
fail_to_pass: []
pass_to_pass:
- pytest -q tests/test_config_manager.py -q
install_config:
  install: pip install -e .
  python: '3.11'
  test_cmd: pytest
meta:
  added_lines: '6'
  difficulty: easy
  files_changed: '1'
  pr_title: Fix double ZIP in CI artifact by extracting plugin ZIP before upload
  removed_lines: '1'
  source: gh-archive-pr
  test_generation: agentic-docker
prompt: |-
  Meltingplot/dwc-meltingplot-config (#9): Fix double ZIP in CI artifact by extracting plugin ZIP before upload

  Fix the CI artifact packaging so the published plugin download is a single ZIP with the correct plugin structure. Ensure the artifact does not contain a nested ZIP and remains compatible with the downstream install script.
original_pr_body: |-
  Meltingplot/dwc-meltingplot-config (#9): Fix double ZIP in CI artifact by extracting plugin ZIP before upload

  upload-artifact@v4 wraps uploaded files in a ZIP, so uploading the
  plugin .zip produced a ZIP-inside-ZIP that breaks DWC's install script.
  Extract the plugin ZIP contents first so the downloaded artifact is a
  single ZIP with the correct plugin structure.

  https://claude.ai/code/session_01UovtPLX8SozwpF3mm98NKP
quality_score: 0.25
quality_passed: true
docker_passed: false
workspace_path: null
status: ready
